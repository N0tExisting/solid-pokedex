# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]

	# Directory that contains the deploy-ready HTML files and assets generated by
	# the build. This is relative to the base directory if one has been set, or the
	# root directory if a base has not been set. This sample publishes the
	# directory located at the absolute path "root/project/build-output"
	publish = "dist/"
	environment = { NODE_VERSION = "14" }
	# If skip_processing = true, all other settings are ignored
	[build.processing]
		skip_processing = false
		[build.processing.html]
			minify = true
			pretty_urls = true
		[build.processing.js]
			bundle = false
			minify = true
		[build.processing.css]
			bundle = false
			minify = true
		[build.processing.images]
			compress = true

[[redirects]]
	# Make the SPA Work
	from = "/*"
	to = "/index.html"
	status = 200
[[redirects]]
	# Show a hard 404 page
	from = "/404"
	to = "/index.html"
	status = 404

[[headers]]
	for = "/*"
	[headers.values]
		X-Frame-Options = "DENY"
		X-Content-Type-Options = "nosniff"
[[headers]]
	for = "/static/*"
	[headers.values]
		Cache-Control = "public, max-age=31536000, must-revalidat"
